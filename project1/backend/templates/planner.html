<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Layout Planner - Smart City Design</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">üèóÔ∏è AI Layout Planner</div>
            <ul class="nav-menu">
                <li><a href="/" class="nav-link">Home</a></li>
                <li><a href="/about" class="nav-link">About</a></li>
                <li><a href="/planner" class="nav-link active">Planner</a></li>
                <li><a href="/contact" class="nav-link">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Planner Section -->
    <section class="planner-section">
        <div class="container">
            <h1>AI City Layout Planner</h1>
            <p class="subtitle">Enter your city parameters and let AI create an optimized layout</p>

            <div class="planner-layout">
                <!-- Input Form -->
                <div class="planner-form">
                    <h2>City Parameters</h2>
                    <form id="layoutForm">
                        <div class="form-group">
                            <label for="population">Population</label>
                            <input type="number" id="population" name="population" placeholder="e.g., 100000" required>
                            <small>Range: 1,000 to 10,000,000+</small>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="temperature">Temperature (¬∞C)</label>
                                <input type="number" id="temperature" name="temperature" placeholder="e.g., 25" step="0.1" required>
                            </div>
                            <div class="form-group">
                                <label for="weather">Weather Condition</label>
                                <select id="weather" name="weather" required>
                                    <option value="">Select Weather</option>
                                    <option value="Sunny">Sunny</option>
                                    <option value="Rainy">Rainy</option>
                                    <option value="Cloudy">Cloudy</option>
                                    <option value="Snow">Snow</option>
                                    <option value="Moderate">Moderate</option>
                                    <option value="Tropical">Tropical</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="roads">Current Road Infrastructure</label>
                            <select id="roads" name="roads" required>
                                <option value="">Select Road Type</option>
                                <option value="Basic">Basic (Few roads, need expansion)</option>
                                <option value="Normal">Normal (Adequate infrastructure)</option>
                                <option value="Advanced">Advanced (Well-developed network)</option>
                                <option value="Modern">Modern (Smart city infrastructure)</option>
                            </select>
                        </div>

                        <button type="submit" class="btn-primary">Generate Layout</button>
                    </form>

                    <!-- Quick Stats -->
                    <div id="quickStats" class="quick-stats" style="display: none;">
                        <h3>Quick Analysis</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <label>Density Level:</label>
                                <span id="densityLevel">-</span>
                            </div>
                            <div class="stat-item">
                                <label>Road Width:</label>
                                <span id="roadWidth">-</span>
                            </div>
                            <div class="stat-item">
                                <label>Amenities:</label>
                                <span id="amenitiesCount">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Output Display -->
                <div class="planner-output">
                    <div id="loadingSpinner" class="loading-spinner" style="display: none;">
                        <div class="spinner"></div>
                        <p>Generating AI layout...</p>
                    </div>

                    <div id="outputContainer" style="display: none;">
                        <!-- Layout Visualization -->
                        <div class="visualization">
                            <h2>Layout Visualization</h2>
                            <img id="layoutImage" src="" alt="City Layout"/>
                        </div>

                        <!-- Legend -->
                        <div class="legend">
                            <h3>Legend</h3>
                            <div class="legend-items">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #808080;"></div>
                                    <span>Roads</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #FFD700;"></div>
                                    <span>Residential</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #FF6B6B;"></div>
                                    <span>Commercial</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #90EE90;"></div>
                                    <span>Parks & Green</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #A9A9A9;"></div>
                                    <span>Industrial</span>
                                </div>
                            </div>
                        </div>

                        <!-- Report Details -->
                        <div class="report-section">
                            <h3>Detailed Report</h3>
                            
                            <div class="report-item">
                                <strong>Population:</strong>
                                <span id="reportPopulation">-</span>
                            </div>

                            <div class="report-item">
                                <strong>Population Density:</strong>
                                <span id="reportDensity">-</span>
                            </div>

                            <div class="report-item">
                                <strong>Temperature:</strong>
                                <span id="reportTemperature">-</span>
                            </div>

                            <div class="report-item">
                                <strong>Weather Condition:</strong>
                                <span id="reportWeather">-</span>
                            </div>

                            <div class="report-item">
                                <strong>Recommended Road Width:</strong>
                                <span id="reportRoadWidth">-</span>
                            </div>

                            <div class="report-item">
                                <strong>Road Infrastructure Details:</strong>
                                <p id="reportRoadDescription">-</p>
                            </div>

                            <div class="report-item">
                                <strong>Recommended Amenities:</strong>
                                <div id="reportAmenities" class="amenities-list">
                                    <!-- Populated by JavaScript -->
                                </div>
                            </div>

                            <div class="report-item">
                                <strong>Development Recommendations:</strong>
                                <ul id="reportRecommendations" class="recommendations-list">
                                    <!-- Populated by JavaScript -->
                                </ul>
                            </div>

                            <div class="report-item">
                                <small>Generated: <span id="reportTimestamp">-</span></small>
                            </div>
                        </div>
                    </div>

                    <div id="placeholderContent">
                        <div class="placeholder">
                            <p>üëà Fill in the form and click "Generate Layout" to start</p>
                            <p>Your AI-generated city layout will appear here</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2026 AI Layout Planner. Designing smarter cities with technology.</p>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script src="{{ url_for('static', filename='planner.js') }}"></script>
</body>
</html>
